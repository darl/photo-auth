(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],[,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(3),r=n.n(i);n(15),n(4),n(16);var c,s=n(1),l=n.n(s),d=n(5),u=n(6),h=n(8),m=n(7),v=n(9),f=(n(18),function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).setVideoElement=function(t){e.videoElement=t},e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=new RTCPeerConnection({sdpSemantics:"unified-plan"})).addEventListener("icegatheringstatechange",console.log,!1),c.addEventListener("iceconnectionstatechange",console.log,!1),c.addEventListener("signalingstatechange",console.log,!1),c.createDataChannel("chat",{ordered:!0}).addEventListener("message",console.log),this.videoElement.setAttribute("autoplay",""),this.videoElement.setAttribute("muted",""),this.videoElement.setAttribute("playsinline",""),t.next=12,l.a.awrap(navigator.mediaDevices.getUserMedia({audio:!1,video:!0}));case 12:(e=t.sent).getTracks().forEach((function(t){c.addTrack(t,e)})),this.videoElement.srcObject=e,c.createOffer().then((function(e){return c.setLocalDescription(e)})).then((function(){return new Promise((function(e){if("complete"===c.iceGatheringState)e();else{c.addEventListener("icegatheringstatechange",(function t(){console.log("STATE CHANGE"),"complete"===c.iceGatheringState&&(c.removeEventListener("icegatheringstatechange",t),e())}))}}))})).then((function(){var e=c.localDescription;return fetch("//localhost:8080/offer",{body:JSON.stringify({sdp:e.sdp,type:e.type,video_transform:"none"}),headers:{"Content-Type":"application/json"},method:"POST"})}));case 16:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return o.a.createElement("div",{className:"VideoFrame"},o.a.createElement("video",{ref:this.setVideoElement,className:"VideoFrame__video"}),o.a.createElement("div",{className:"VideoFrame__overlay"},"test"))}}]),t}(o.a.PureComponent));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.3f898fd0.chunk.js.map